各位同学大家好，今天我们来学习如何测试一个视频播放器。

对于视频播放器，相信大家并不陌生。在我们的手机APP上会有腾讯视频播放器、爱奇艺视频播放器、优酷视频播放器以及QQ影音等，这些都是视频播放器。那么，我们的视频播放器该如何进行测试呢？

大家可以思考一下，视频播放器有哪些功能？比如播放视频的功能、下载功能、收藏功能、弹幕功能、分享功能、截屏功能等等。那么，我们会发现，功能如此之多，如此庞杂，当我们在对外讲解时，应该如何组织表达呢？包括当面试官给出一道题目时，我们也会面临同样的难题：功能众多，每一个都想讲清楚，但讲不全面。那么，这个时候我们就要选择一个切入点，逐个击破，而不是泛泛而谈。

我们首先来看一下，作为视频播放器来说，其最核心的重要功能是什么？是播放视频。

那么，在播放视频这一功能之下，它有哪些具体的功能点呢？我们可以来分析一下。

第一个是视频封面。我们知道，视频的封面是一个轮播图，它可以左右切换。我们首先要测试这个视频封面是否能正常切换。

接下来，我们选择某一集进行播放时，当我们点击屏幕或播放键，视频是否能正常播放，以及进度条的倒计时显示是否正常。

播放形式一般有两种：一种是选集播放，比如从第一集跳到第十集；另一种是顺序播放，比如第一集播放完后自动跳到第二集。此外，还有一种方式是使用物理按键进行左右切换选集。我们需要验证使用左右按钮切换播放是否能正常播放下一个视频。

这些就是播放功能中的几种播放形式。在这个过程中，我们要注意一个“场景联动”：比如我正在观看《西游记》的某一集，这一集的播放记录是否会保存在历史记录功能中？

这是一个典型的场景联动设计：我能够在历史记录中找到我曾经看过的电视剧和内容。历史记录中应包含最近一天、最近七天、最近30天、最近一年等不同时间段的观看记录，并可通过筛选功能查找。这样的设计，便于用户追溯自己观看的内容和时间节点，有助于学习和视频观看的延续性。

再者是清晰度的选择。我们在播放视频时通常会选择清晰度，如蓝光、高清、普通，甚至指定分辨率等。

这里要分两个逻辑来分析清晰度选择与用户身份之间的关系。清晰度与是否是会员用户有关。例如，尊贵的会员用户可以选择蓝光，而普通用户只能观看普通或高清内容。

因此，当非会员用户播放视频并尝试切换至蓝光时，会触发购买流程。例如：正在播放《西游记》，点击切换到蓝光时，系统提示是否需要购买VIP会员。如果选择购买，会跳转至支付页面，支付成功后即可观看蓝光内容；如果不支付，则只能继续观看普通或高清内容。

这样就形成了一个完整的闭环逻辑，将登录状态、会员身份与播放功能串联在一起。

接下来是视频下方的评论功能。我们看完一集电视剧，若觉得非常精彩或非常糟糕，通常会发表评论。而其他网友也可能就你的评论进行回复，表达赞同或反对观点，进而形成交流互动。

如果有人回复你的评论，你会收到通知；如果你评论他人内容，对方也会收到通知，这也是一个场景联动的体现。

还有视频点赞功能。比如你评论“《西游记》真好看”，其他用户为你点赞，你会看到点赞加一；你也可以为视频点赞，点赞数也会增加。

另一个重要功能是视频播放速度调节。默认播放速度是1.0倍速，同时我们可以从1.0调节到2.0倍速，步长为0.25。系统应支持用户在此范围内自定义速度调节。

然后是弹幕功能。在播放视频时，部分用户会发表评论并以弹幕形式展示。前提是用户已登录，未登录用户无法发表评论。

弹幕的可见性与开关状态相关。若关闭弹幕，则无法看到评论内容。我们应测试场景包括开启再关闭、关闭再开启等操作。这实际上属于权限测试的一部分，我们在APP专项测试中提到过这类测试点。

再者是收藏功能。当一个视频非常精彩，或你未看完希望下次继续观看，就可以点击收藏。收藏成功后，该视频应出现在收藏列表中。取消收藏后，该视频不应再出现在收藏中。这也涉及场景联动：收藏动作与收藏页面数据的对应关系。

接下来是分享功能。我们通常可以通过微信、微博、QQ等渠道进行分享。

此处需测试两种情况：分享成功和取消分享。比如原本打算通过微信发送给好友，但中途取消了分享动作，也要考虑这种流程。

继续往下是快进和快退功能。快进快退通常有两种实现方式：一是拖动进度条，二是通过在屏幕上滑动进行操作。我们需要校验操作后的播放内容是否与期望一致。

然后是音量调节功能。视频默认有声音且无杂音，用户可调节音量大小。

音量调节可通过两种方式：一是直接在屏幕上滑动调节，二是使用手机的物理按键。

视频播放器通常还支持投屏功能。当视频投到电视上观看时，需要考虑几个点：设备是否支持连接，WIFI是否在同一局域网内。部分播放器要求手机与TV在同一WIFI网络下才能投屏成功。

如果设备可连接，且WIFI在同一局域网中，则可以投屏成功；否则投屏会失败。

最后一个场景是多端登录。例如我可以在平板、手机、电脑多个设备同时登录账号观看视频。

此时要验证播放记录、评论记录等能否在多个端之间同步保存。

在这里，我们可以举一个例子，比如微信。微信既可以在手机上登录，也可以在平板上登录，同时也支持在电脑端登录。当登录时，如果勾选了“同步聊天记录”选项，那么三个端的聊天记录是同步的。

同理，如果平板、手机和电脑端都登录了爱奇艺或者腾讯视频播放器，那么我们可以看到：当我在手机端观看视频时，平板端和电脑端的播放记录中也应包含这个视频的历史记录。再比如视频的暂停播放，首先是按钮的暂停，其次是我们可以通过暂停键进行暂停播放操作。这些都需要验证。

接着来看下载视频的功能。当我们遇到一些精彩的视频，希望下载到本地，比如准备在飞机上、高铁上或信号不佳的环境下观看时，可以点击“下载”按钮进行下载。如果下载成功，那么在“我的下载”中可以看到已下载的视频；如果下载失败，可能是因为没有足够的内存，或因为进程被杀、网络断开等原因导致的下载失败。

在清理内存或恢复网络后，再次进行下载时，是否可以从上次的断点处继续下载？这一点需要重点验证。在视频页面，我们可以最大化或最小化视频窗口。类似这种按钮操作，我们都需要测试。

可以看出，视频播放器的整体功能涵盖了播放视频、收藏、分享、快进、快退、暂停、弹幕、投屏、音量调节、下载、最大化与最小化等主要功能。但其中也包含很多更细致的功能，这些内容在面试中通常不会展开讲述，因为面试时间一般只有20到30分钟，不可能将一个测试周期长达数月甚至数年的产品细节全部讲清。因此，我们会重点讲述主要的测试流程与功能点，向面试官展示我们的测试逻辑。

在梳理完功能后，我们回到之前的软件测试理论知识。有些产品同时具备 Web 端和 APP 端。视频播放器恰好具备 APP 端。

在 APP 端的测试中，我们关注以下方面：例如网络切换测试，包括数据连接、有网、无网等不同场景；其次是弱网测试，验证在弱网环境下是否出现卡顿、黑屏、闪退等问题。

消息推送测试：一些热门剧集或影片会进行消息推送，需要验证多条推送、删除推送、关闭推送、手机断网后是否接收推送、锁屏状态是否接收推送等情况。

安装、卸载、更新测试：包括播放器能否正常安装、卸载时是否有删除确认提示、更新过程是否支持中断恢复、内存不足时更新是否异常、更新后用户数据是否保留、版本号是否正确、程序关闭或系统断电后是否保留播放记录，并能否从记录点继续播放。

权限测试：播放器会请求麦克风权限，需测试打开和关闭麦克风权限后的语音识别功能。

场景交互测试：如播放视频时有电话进入，或进行分屏操作，例如边看电视边使用微信等交互场景。

资源争用测试：测试视频播放器与其他应用如音乐播放器同时播放时是否产生冲突，验证播放过程中音频资源是否冲突。

APP 端功能的测试切分，来源于 APP 专项测试。我们需要覆盖网络、权限、交互、资源争用、推送、安装与更新等内容。实际上，APP 端与 Web 端的功能基本一致，如播放视频、弹幕、收藏、分享、下载、投屏等。不同之处在于 APP 端需增加专项测试，因此应特别注意。

性能测试方面，我们划分为压力测试、负载测试和并发测试。例如压力测试是模拟大量用户同时观看时是否崩溃，最多能承载多少用户同时观看，播放大容量文件时的加载时间等。

兼容性测试方面，我们需考虑不同浏览器（IE、火狐、谷歌、360等）及其不同版本的兼容性，也包括不同操作系统（如安卓、苹果）及其版本（安卓6到11、苹果8到16），需要分别进行 Web 浏览器和 APP 的兼容性测试。

稳定性测试方面，需要长时间持续播放视频，观察是否存在崩溃等问题，验证产品在一定负载下是否能长时间稳定运行。测试目的在于发现系统不稳定的因素并加以解决。例如某次“你是我的荣耀”大结局在腾讯视频播出时，由于用户量激增，导致播放器崩溃闪退。再如微信在支付高峰时段，也会出现闪退等严重故障，这类情况对大厂影响极大，通常需进行复盘，查找根因并优化。

就如国家电网分析春节期间农村频繁断电问题，通过找出不稳定因素并进行调整，如今几乎已不再停电。

易用性测试方面，我们可以从以下几个角度考虑：

界面是否简洁、整洁，比如视频封面图、片头片尾图像是否清晰、美观。

快捷键设置是否合理，切换是否迅速、灵敏。

菜单布局是否合理，图标是否具备注释说明。

图像清晰度测试：在标清、高清、超清等不同清晰度模式下切换时，视频是否正常播放，是否存在卡顿、黑屏、闪退等问题。切换过程中是否显示“加载中”提示，以避免用户误认为系统出错。

播放记忆功能：即用户观看视频至某个时间点退出后，下次可从该时间点继续观看，而非从头开始。

拖动条的拖拽功能是否顺滑、易操作；页面下滑时播放器是否固定在屏幕右下角；切换页面时视频是否自动暂停，返回时能否继续播放等。

UI 界面测试包括视频标题的大小、颜色、位置是否正确，返回键位置是否合理，页面宽高比例是否合适，有无错别字等。
那么，以上是我们视频播放器的一个功能介绍，包括APP端的功能测试需要注意的点，以及性能、兼容性、稳定性、易用性和UI界面测试等方面的内容。

接下来我们要做的是对整个业务进行梳理。我们会发现，讲完这些内容之后，如果在面试时要快速表达重点，可能会觉得信息量太大、不易归纳。因此，在快速梳理业务时，我们可以以“播放视频”为例。

播放视频的测试思维主要有三个点：首先考虑用户是否登录。如果用户已经登录，我们从登录状态出发进行测试。用户选择了一集视频，观看成功后，观看记录会同步到用户的历史记录中。

如果用户没有登录，是否能观看视频？答案是可以直接观看。但登录和未登录的区别体现在清晰度选择上。登录后可以选择高清，未登录的用户则只能观看普通清晰度的视频。

此外，并不是所有登录用户都能观看所有视频。因为有些视频是需要付费的，也有些是免费观看的。因此这里要进一步细分逻辑，即是否是会员，或者是否已经购买了该视频。

从会员逻辑出发，如果我是会员，观看免费视频是免广告、可直接观看的。如果没有登录但想看会员视频，系统会提示登录。登录后仍然想看会员视频，系统会提示购买。

因此，会员还可以进一步细分为普通会员和超级VIP会员。普通会员观看部分视频时仍需看广告，超级VIP可以直接选集播放等。而非会员在观看视频时，首先需要看广告（如30秒或60秒，由平台决定），然后才能播放视频。

非会员观看会员视频的逻辑是：试看限定时长（如5分钟或3分钟），超过试看时间后提示购买。若用户购买成功，则可以继续观看全部内容；若未购买，则不能继续观看。这些流程都需要验证。

由此可见，播放视频的测试逻辑可以从以下四个场景梳理：

1. 登录并为会员：免广告，直接观看。
    
2. 登录但非会员：提示购买。
    
3. 未登录：提示登录或试看。
    
4. 非会员观看会员视频：试看后提示购买，购买成功后可继续观看。
    

在梳理完这四个场景之后，可以继续讲播放视频的功能细节，例如播放、暂停、调整音量、选集等。

选集功能也与登录状态相关。例如登录用户可以正常切换选集；未登录用户切换选集时可能被提示先登录；非会员切换至VIP剧集时，则提示开通VIP才能观看。由此可以从用户身份（是否登录、是否会员）出发，梳理整个业务流程。

我们可以这样串联整个视频播放流程：

1. 用户登录。
    
2. 登录成功后播放视频。
    
3. 在播放过程中可进行选集播放（从1集到20集）。
    
4. 可通过左右按钮切换选集。
    
5. 调整播放进度、倍速（加快或减慢）、开启或关闭弹幕。
    
6. 收藏、下载、分享视频。
    
7. 播放后可以在历史记录中查找。
    

这些功能可以按“主流程 + 单支线”的方式展开，例如：

- 登录 → 播放视频 → 调整倍速。
    
- 登录 → 播放视频 → 开启弹幕 → 参与评论/回复评论。
    
- 登录 → 播放视频 → 下载视频 → 下载成功 → 本地查看。
    
- 登录 → 播放视频 → 历史记录中查找视频。
    

我们暂时不考虑以下特殊情况：打开不支持的文件（如某些本地播放器支持的格式）、播放列表中不存在的文件、播放出错后是否能再次打开、播放不完整文件的兼容性、无扬声器时是否能正常使用播放器软件、播放中是否能删除或移动文件、播放中修改媒体文件名称或类型等。

这里只考虑主流视频播放器的常规功能。

最后，我们来梳理一下测试思维。很多同学刚进入软件测试行业时，非常迫切地想把测试思维运用到工作中，认为自己拿到产品就能写出测试用例。但要写好测试用例，测试思维的积累非常重要。测试思维不是一天就能掌握的，而是一个持续积累的过程。

在面试中，为了快速进入行业或作为前期学习，我们的测试思维可以从以下几个方向入手：

1. **多端考虑**：如平板、电视、手机，甚至多个终端（如电梯中多个控制端）同时使用时的联动场景。
    
2. **功能拆分**：先梳理大功能，再细分为小功能。
    
3. **登录与否**：是最常见的判断点之一。
    

例如：在线教育平台（如慕课网）。用户第一步是登录。即使没登录，也可以浏览页面内容，但要播放视频时，就需要登录。登录方式可以有手机号、邮箱、微信等。如果未注册，就涉及注册流程。

用户登录后，要判断课程是否免费。免费则直接播放；收费则需购买。购买又可以分为单集付费和整套课程打包付费。用户购买后，可能成功也可能失败。成功后可以观看，失败则不行。

会员逻辑也需考虑：是否为会员，会员是否能观看所有视频。没有会员的情况下则需要按集付费或按课程打包付费。

综上，我们的测试思维路径可以归纳为：

- 多端情况。
    
- 功能拆分。
    
- 登录与否。
    
- 购买与否。
    
- 会员与否。
    

---

**今日作业**：

请大家不要看课件，自己梳理“视频播放器”的测试流程。若有时间，可以选择一个额外练习题目，例如“如何测试微信朋友圈”或“如何测试微信聊天”。

这两个问题在面试中也比较常见，可以从登录与否、不同用户之间的交互、消息接收、图片视频的类型、转账功能等角度出发，结合功能测试、APP专项测试、兼容性测试、性能测试、UI测试、安全测试、稳定性测试等方面进行业务流程梳理。相信经过这样的练习后，你的测试思维能力会有显著提升。

好的，我们今天的课程学习就到这里。谢谢大家。